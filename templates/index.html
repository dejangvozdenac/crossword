{% extends "layout.html" %}

{% block main %}
  <center><h1>Crossword Puzzle</h1></center>

  {% if correct %}
    <script>alert("Correct!");</script>
  {% endif %}

  <div id="wrap">
    <div class="col">
      <!-- clues -->
      <h2>Across</h2>
      {% for clue in cluesAcross %}
        <div>{{ clue.number ~ ". " ~ clue.clue }}</div>
      {% endfor %}
    </div>

    <div class="colgut">
      <!-- the crossword image -->
      <div id="wrapper">
        {% for row in state.array %}
          {% for cell in row %}
            {% if cell.variety == "BLACK" %}
              <div class="filled"></div>
            {% elif cell.numbered %}
              <div class="empty numbered">
                {% if cell.letter %}
                  <div class="letter">{{ cell.letter }}</div>
                {% endif %}
              </div>
            {% else %}
              <div class="empty">
                {% if cell.letter %}
                  <div class="letter">{{ cell.letter }}</div>
                {% endif %}
              </div>
            {% endif %}
          {% endfor %}
        {% endfor %}
      </div>

      <!-- form submission -->
      <form action="{{ url_for('command') }}" id="command" method="post">
        <div class="form-group">
          <b><label>Clue:</label></b>
          <input class="form-control" name="clue" placeholder="4 a"/>
        </div>

        <div class="form-group">
          <b><label>Letter position (optional):</label></b>
          <input class="form-control" name="position" placeholder="3"/>
        </div>

        <div class="form-group">
          <b><label>Solution:</label></b>
          <input class="form-control" name="solution" placeholder="aria"/>
        </div>

        <div class="form-group">
          <input type="submit" name="command_type" value="Fill"></button>
          <input type="submit" name="command_type" value="Delete"></button>
          <input type="submit" name="command_type" value="Check"></button>
          <input type="submit" name="command_type" value="New Puzzle"></button>
        </div>
      </form>
    </div>

    <div class="col">
      <h2>Down</h2>
      {% for clue in cluesDown %}
        <div>{{ clue.number ~ ". " ~ clue.clue }}</div>
      {% endfor %}
    </div>
  </div>

  <script>
    $(document).click(function(event) {
      var text = $(event.target).text();
      console.log(text);
    });
  </script>
{% endblock %}